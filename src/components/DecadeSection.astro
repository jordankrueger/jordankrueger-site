---
interface Props {
  title: string;
  image?: string;
  imageWidth?: number;
  imageHeight?: number;
  bgClass?: string;
}
const { title, image, imageWidth, imageHeight, bgClass = '' } = Astro.props;
---

<div class="decade-wrap">
  <div class:list={["decade-panel", bgClass]}>
    <div class="decade-inner">
      <div class="decade-header">
        <h2>{title}</h2>
        {image && <img src={image} alt={title} loading="lazy" class="decade-image" width={imageWidth} height={imageHeight} />}
      </div>
      <div class="decade-text">
        <slot />
      </div>
    </div>
  </div>
</div>

<style>
  .decade-wrap {
    padding: 0 var(--spacing-md);
  }

  .decade-panel {
    max-width: var(--max-width);
    margin: var(--spacing-sm) auto;
    border: 1px solid var(--color-border);
    border-radius: var(--radius-lg);
    padding: var(--spacing-lg) var(--spacing-lg);
  }

  .decade-inner {
    display: grid;
    grid-template-columns: 1fr 1.5fr;
    gap: var(--spacing-lg);
    align-items: start;
  }

  .decade-image {
    width: 100%;
    border-radius: var(--radius-md);
    margin-top: var(--spacing-sm);
  }

  .decade-text :global(p) {
    margin-bottom: 1rem;
  }

  @media (max-width: 640px) {
    .decade-panel {
      padding: var(--spacing-md) var(--spacing-sm);
      border-radius: var(--radius-md);
    }

    .decade-inner {
      grid-template-columns: 1fr;
    }

    .decade-image {
      max-width: 300px;
    }
  }
</style>
